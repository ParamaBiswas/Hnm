#pragma checksum "E:\CenterPoint\CenterPointPortal\CenterPointUI\Views\Quotation\QuotationComparison.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "cdc9dcfa77b0209651176b1e2c4db253f4621829"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Quotation_QuotationComparison), @"mvc.1.0.view", @"/Views/Quotation/QuotationComparison.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Quotation/QuotationComparison.cshtml", typeof(AspNetCore.Views_Quotation_QuotationComparison))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "E:\CenterPoint\CenterPointPortal\CenterPointUI\Views\_ViewImports.cshtml"
using CenterPointUI;

#line default
#line hidden
#line 2 "E:\CenterPoint\CenterPointPortal\CenterPointUI\Views\_ViewImports.cshtml"
using CenterPointUI.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"cdc9dcfa77b0209651176b1e2c4db253f4621829", @"/Views/Quotation/QuotationComparison.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"2edc7cc0f3e77f68ee09f57f8aa10aed8980b104", @"/Views/_ViewImports.cshtml")]
    public class Views_Quotation_QuotationComparison : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 7248, true);
            WriteLiteral(@"<script>
    var server = ""http://192.168.20.29/"";

   
    function LoadAllQuotation(data) {
       debugger
        var vNewRow;
        var vApproved;


        var vSLNo = 0;
        $('.ListTable').find('tr').not('.HeaderRow').remove();


        for (var i = 0; i < data.vList.length; i++) {
            vSLNo = i + 1;
            if (data.vList[i].ApprovalAction == 0 && data.vList[i].IsApproved==0) {
                vApproved = 'Pending';
            }
            else if (data.vList[i].ApprovalAction == 1 && data.vList[i].IsApproved == 1) {
                vApproved = 'Approved';
            }
            else if (data.vList[i].ApprovalAction == 3 && data.vList[i].IsApproved == 0) {
                vApproved = 'Declined';
            }
            else if (data.vList[i].ApprovalAction == 2 && data.vList[i].IsApproved == 0) {
                vApproved = 'Rejected';
            }
            vNewRow = '<tr>' +
                '<td class=""DataCell"" >' + vSLNo + '</td>' +
     ");
            WriteLiteral(@"           '<td class=""DataCell"" >' + data.vList[i].QuotationNo + '</td>' +
                '<td class=""DataCell"" >' + data.vList[i].SupplierName_VW + '</td>' +
                '<td class=""DataCell"" >' + data.vList[i].TotatlQuotationScore + '</td>' +
                '<td class=""DataCell"" >' + data.vList[i].Remarks + '</td>' +
                '<td class=""DataCell"" >' + vApproved + '</td>' +
                '<input type=""hidden"" id=""QuotationCode' + i + '"" value=""' + data.vList[i].QuotationCode_PK + '"" />' +
                '<input type=""hidden"" id=""SupplierCode' + i + '"" value=""' + data.vList[i].SupplierCode + '"" />' +
                '<input type=""hidden"" id=""RequisitionCode_VW' + i + '"" value=""' + data.vList[i].RequisitionCode_VW + '"" />' +
                '<td class=""DataCell"" align=""center""><a tabindex=""27"" href=""#""  onclick=""javascript:return ShowDetails(' + '\'' +  data.vList[i].QuotationCode_PK + '\'' + ');"">Details</a></td>' +
                '<td class=""DataCell"" align=""center""><a tabindex=""2");
            WriteLiteral(@"7"" href=""#""  onclick=""javascript:return GenerateWorkOrder(' + '\'' + data.vList[i].QuotationCode_PK + '\',\'' + data.vList[i].RequisitionCode_VW + '\',\'' + data.vList[i].SupplierCode + '\',\'' + data.vList[i].TotatlQuotationScore + '\'' + ');"">Generate Work Order</a></td>' +
                '</tr>';

            $('.ListTable').find('tr:last').after(vNewRow);
            if (i % 2 == 0) $('.ListTable').find('tr:last').addClass('DataRowOdd');
            else $('.ListTable').find('tr:last').addClass('DataRowEven');
        }


    }
    function PopUpforRFProcess() {

        var vURL = encodeURIComponent(server + ""/procurement/api/RFPProcessing/GetRFPProcessingList"");

        var vColHeaderName = 'RFProcess Id, Publish Date, Employee';
        var vTitle = 'RFProcess PopUp';
        var vColumn = 'RFProcessId,PublishDate,EmployeeName_VW';
        var vPKValue = 'RFProcessCode_PK';

        callModal(""../Product/GetData?pDynColumns="" + vColHeaderName + ""&pTitle="" + vTitle + ""&pURL="" + vURL");
            WriteLiteral(@" + ""&pColumns="" + vColumn + ""&pPkCode="" + vPKValue);

    }
    function AssignValueCommonPopUPNewListUI() {
        if (vCalleeVar1 != null && vCalleeVar1 != undefined) {
            $(""#RFProcessId"").val(vCalleeVar2);
            $(""#RFProcessCode_PK"").val(vCalleeVar1);
            GetQuotation(vCalleeVar1);

        }
        var vSpan = document.getElementsByClassName(""close"")[0];
        vSpan.onclick();
    }
    function GetQuotation(pkCode) {
        debugger
        $.ajax({
            url: server + ""Procurement/api/Quotation/GetQuotationByRFP?pREFProcessCode="" + pkCode,
            type: ""Get"",
            datatype: ""JSON"",
            contentType: ""application/json"",
            crossDomain: ""true"",

            error: function () {
                alert("" An error occurred."");
            },
            success: function (data) {

                LoadAllQuotation(data);
            },
            error: function () {
                alert(""Failed to load Quotation Li");
            WriteLiteral(@"st"");


            }
        });
    }
    function ShowDetails() {
        window.location.href = ""../Quotation/QuotationRequisition?RFProcessCode=""+$(""#RFProcessCode_PK"").val();
       
    }
    function GenerateWorkOrder(QuotationCode, RequisitionCode, SupplierCode, TotatlQuotationScore) {
       
            var jObjMain = {
                ""PurchaseOrderNo"": """",
                ""QuotationCode"": """",
                ""SupplierCode"": """",
                ""RequisitionCode"": """",
                ""TotatlQuotationScore"": 0,
                ""PurchaseOrderCode_PK"": """",
                ""CompanyCode_FK"": """",
                ""ActionType"": """",
                ""UserCode"": """",
                ""ActionDate"": """",
               
            };
        jObjMain.PurchaseOrderNo ="""";
        jObjMain.QuotationCode = QuotationCode;
        jObjMain.SupplierCode = SupplierCode;
        jObjMain.RequisitionCode = RequisitionCode;
        jObjMain.TotatlQuotationScore = TotatlQuotationScore;
        ");
            WriteLiteral(@"jObjMain.PurchaseOrderCode_PK ="""";
        jObjMain.CompanyCode_FK = 1;
        jObjMain.ActionType = ""INSERT"";
        jObjMain.UserCode = ""9C6CA730-34AB-40B2-A0DC-17CD77330B9E"";
        jObjMain.ActionDate =""2019-03-25 14:56:44.453"";
           
           
            var datas = JSON.stringify(jObjMain);

            $.ajax(
                {
                    url: server + ""/Procurement/api/PurchaseOrder/CreatePurchaseOrder"",
                    dataType: ""json"",
                    processData: false,
                    contentType: 'application/json',
                    type: ""POST"",
                    data: datas,
                    success: function (data) {

                        alert(""Work order generated Succesfully!"");
                    },
                    error: function () {
                        alert(""There was error saving data!"");
                    }
                }
            );
       
    }
    function CompareScore() {
        
        ");
            WriteLiteral(@"$.ajax({
            url: server + ""Procurement/api/Quotation/CompareQuotation?pREFProcessCode="" + $(""#RFProcessCode_PK"").val(),
            type: ""Get"",
            datatype: ""JSON"",
            contentType: ""application/json"",
            crossDomain: ""true"",

            error: function () {
                alert("" An error occurred."");
            },
            success: function (data) {
                if (data.isSuccess==1)
                    GetQuotation($(""#RFProcessCode_PK"").val());
            },
            error: function () {
                alert(""Failed to load Quotation List"");


            }
        });

    }
</script>

<div class=""container"" style=""margin-top:85px"">
    <fieldset>
        <legend>Product</legend>
        <div class=""row"">
            <div class=""col-md-4"">
                <div class=""form-group"">
                    <div class=""col-md-5"">
                        <label class=""col-md-15 control-label"">RFProcess Id</label>

                ");
            WriteLiteral("    </div>\r\n                    <div class=\"col-md-5\">\r\n                        ");
            EndContext();
            BeginContext(7249, 132, false);
#line 184 "E:\CenterPoint\CenterPointPortal\CenterPointUI\Views\Quotation\QuotationComparison.cshtml"
                   Write(Html.TextBox("RFProcessId", null, new { @class = "form-control", ondblclick = "PopUpforRFProcess()", PlaceHolder = "Double click" }));

#line default
#line hidden
            EndContext();
            BeginContext(7381, 26, true);
            WriteLiteral("\r\n                        ");
            EndContext();
            BeginContext(7408, 37, false);
#line 185 "E:\CenterPoint\CenterPointPortal\CenterPointUI\Views\Quotation\QuotationComparison.cshtml"
                   Write(Html.Hidden("RFProcessCode_PK", null));

#line default
#line hidden
            EndContext();
            BeginContext(7445, 1464, true);
            WriteLiteral(@"
                    </div>
                </div>
            </div>

        </div>

    </fieldset>
    <div class=""row"">

        <table class=""table table-striped ListTable"">
            <thead>
                <tr class=""HeaderRow"">
                    <th class=""HeaderCell"">SL No</th>
                    <th class=""HeaderCell"">Quotation No</th>
                    <th class=""HeaderCell"">Supplier</th>
                    <th class=""HeaderCell"">Score</th>
                    <th class=""HeaderCell"">Reviewer Comments</th>
                    <th class=""HeaderCell"">Approve Status</th>
                    <th class=""HeaderCell"">Details</th>
                    <th class=""HeaderCell""></th>
                </tr>
            </thead>
            <tbody id=""tblDocuments""></tbody>
        </table>
    </div>
    <div class=""row"">
        <button type=""button"" id=""addBtn"" class=""btn-primary"" onclick=""CompareScore()"" style=""width:100px"">Compare</button>

    </div>
</div>

    <div i");
            WriteLiteral(@"d=""ModalView"" class=""modal"">

        <!-- Modal content -->
        <div class=""modal-content"">
            <div class=""modal-header"">

                <span class=""close"">×</span>
            </div>
            <div class=""modal-body"">
                <div class=""modal-body"">
                    <div id=""DivNew"">



                    </div>

                </div>
            </div>

        </div>

    </div>
");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
